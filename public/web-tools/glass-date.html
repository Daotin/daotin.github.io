<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è½¦ç»ç’ƒæ—¥æœŸè®¡ç®—å™¨</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .container {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        width: 100%;
      }

      .title {
        text-align: center;
        color: #333;
        margin-bottom: 30px;
        font-size: 2.2em;
        font-weight: 600;
      }

      .subtitle {
        text-align: center;
        color: #666;
        margin-bottom: 40px;
        font-size: 1.1em;
        line-height: 1.6;
      }

      .input-section {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 30px;
      }

      .input-group {
        margin-bottom: 25px;
      }

      .input-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
        font-size: 1.1em;
      }

      .input-row {
        display: flex;
        gap: 15px;
        align-items: center;
        flex-wrap: wrap;
      }

      input[type="number"] {
        padding: 12px 16px;
        border: 2px solid #e1e5e9;
        border-radius: 10px;
        font-size: 16px;
        width: 80px;
        text-align: center;
        transition: all 0.3s ease;
      }

      input[type="number"]:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .dots-input {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
      }

      .calculate-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 15px 40px;
        border-radius: 50px;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: block;
        margin: 0 auto;
        min-width: 200px;
      }

      .calculate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
      }

      .result-section {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        border-radius: 15px;
        padding: 30px;
        margin-top: 30px;
        color: white;
        text-align: center;
        display: none;
      }

      .result-section.show {
        display: block;
        animation: slideIn 0.5s ease;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .result-title {
        font-size: 1.5em;
        font-weight: 600;
        margin-bottom: 15px;
      }

      .result-content {
        font-size: 1.2em;
        line-height: 1.6;
      }

      .example-section {
        background: #fff3cd;
        border-radius: 15px;
        padding: 25px;
        margin-top: 30px;
        border-left: 5px solid #ffc107;
      }

      .example-title {
        font-weight: 600;
        color: #856404;
        margin-bottom: 15px;
        font-size: 1.2em;
      }

      .example-content {
        color: #856404;
        line-height: 1.6;
      }

      .example-item {
        margin-bottom: 10px;
        padding: 8px 0;
      }

      .highlight {
        background: rgba(102, 126, 234, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
        font-weight: 600;
      }

      @media (max-width: 768px) {
        .container {
          padding: 25px;
          margin: 10px;
        }

        .title {
          font-size: 1.8em;
        }

        .input-row {
          justify-content: center;
        }

        .dots-input {
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="title">ğŸš— è½¦ç»ç’ƒæ—¥æœŸè®¡ç®—å™¨</h1>
      <p class="subtitle">
        é€šè¿‡è½¦ç»ç’ƒä¸Šçš„æ•°å­—å’Œé»‘ç‚¹æ ‡è®°ï¼Œå‡†ç¡®è®¡ç®—ç»ç’ƒçš„ç”Ÿäº§æ—¥æœŸ<br />
        å·¦è¾¹ç‚¹è¡¨ç¤ºä¸ŠåŠå¹´ï¼ˆ7-ç‚¹æ•°ï¼‰ï¼Œå³è¾¹ç‚¹è¡¨ç¤ºä¸‹åŠå¹´ï¼ˆ13-ç‚¹æ•°ï¼‰
      </p>

      <div class="input-section">
        <div class="input-group">
          <label>ç”Ÿäº§å¹´ä»½æ•°å­—ï¼š</label>
          <div class="input-row">
            <input
              type="number"
              id="yearDigit"
              min="0"
              max="9"
              placeholder="0-9"
            />
            <span>ï¼ˆå¹´ä»½æœ€åä¸€ä½æ•°å­—ï¼‰</span>
          </div>
        </div>

        <div class="input-group">
          <label>ç‚¹çš„æ•°é‡ï¼š</label>
          <div class="input-row">
            <div class="dots-input">
              <span>æ•°å­—å·¦è¾¹çš„ç‚¹ï¼ˆä¸ŠåŠå¹´ï¼‰ï¼š</span>
              <input
                type="number"
                id="dotsBefore"
                min="0"
                max="6"
                value="0"
                placeholder="0-6"
              />
              <span>æ•°å­—å³è¾¹çš„ç‚¹ï¼ˆä¸‹åŠå¹´ï¼‰ï¼š</span>
              <input
                type="number"
                id="dotsAfter"
                min="0"
                max="6"
                value="0"
                placeholder="0-6"
              />
            </div>
          </div>
        </div>

        <button class="calculate-btn" onclick="calculateDate()">
          è®¡ç®—ç”Ÿäº§æ—¥æœŸ
        </button>
      </div>

      <div class="result-section" id="resultSection">
        <div class="result-title">è®¡ç®—ç»“æœ</div>
        <div class="result-content" id="resultContent"></div>
      </div>

      <div class="example-section">
        <div class="example-title">ğŸ“‹ ä½¿ç”¨è¯´æ˜</div>
        <div class="example-content">
          <div class="example-item">
            <strong>ğŸ•’ å¹´ä»½ï¼ˆæ•°å­—ï¼‰ï¼š</strong> æ•°å­—ä»£è¡¨å¹´ä»½çš„æœ€åä¸€ä½ï¼ˆå¦‚ï¼š<span
              class="highlight"
              >8</span
            >
            è¡¨ç¤º2008å¹´æˆ–2018å¹´ï¼‰ï¼Œéœ€ç»“åˆè½¦è¾†åˆ¶é€ å¹´ä»½æ¨æ–­
          </div>
          <div class="example-item">
            <strong>â˜€ï¸ æœˆä»½ï¼ˆé»‘ç‚¹ï¼‰ï¼š</strong>
            <br />â€¢ <strong>ç‚¹åœ¨æ•°å­—å·¦è¾¹</strong>ï¼ˆä¸ŠåŠå¹´ï¼‰ï¼šæœˆä»½ = 7 - ç‚¹æ•°
            <br />â€¢ <strong>ç‚¹åœ¨æ•°å­—å³è¾¹</strong>ï¼ˆä¸‹åŠå¹´ï¼‰ï¼šæœˆä»½ = 13 - ç‚¹æ•°
            <br />â€¢ ç‚¹æ•°èŒƒå›´ï¼š1-6ä¸ªç‚¹ï¼Œå¯¹åº”ä¸åŒæœˆä»½
          </div>
          <div class="example-item">
            <strong>âœ… ç¤ºä¾‹è§£è¯»ï¼š</strong>
            <br />â€¢ <span class="highlight">â€¢â€¢8</span>ï¼ˆå·¦è¾¹2ä¸ªç‚¹+æ•°å­—8ï¼‰â†’
            2018å¹´5æœˆï¼ˆ7-2=5æœˆï¼‰ <br />â€¢
            <span class="highlight">8â€¢â€¢â€¢</span>ï¼ˆæ•°å­—8+å³è¾¹3ä¸ªç‚¹ï¼‰â†’
            2018å¹´10æœˆï¼ˆ13-3=10æœˆï¼‰
          </div>
          <div class="example-item">
            <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong>
            <br />â€¢ å„å‚å®¶æ ‡æ³¨å¯èƒ½ç•¥æœ‰å·®å¼‚ <br />â€¢ å»ºè®®ç»“åˆæ•´è½¦å‡ºå‚å¹´ä»½åšå‚è€ƒ
            <br />â€¢ æ•°å­—é€šå¸¸è¡¨ç¤ºå¹´ä»½æœ€åä¸€ä½æ•°å­—
          </div>
        </div>
      </div>
    </div>

    <script>
      function calculateDate() {
        const yearDigit = parseInt(document.getElementById("yearDigit").value);
        const dotsBefore =
          parseInt(document.getElementById("dotsBefore").value) || 0;
        const dotsAfter =
          parseInt(document.getElementById("dotsAfter").value) || 0;

        // éªŒè¯è¾“å…¥
        if (isNaN(yearDigit) || yearDigit < 0 || yearDigit > 9) {
          alert("è¯·è¾“å…¥æœ‰æ•ˆçš„å¹´ä»½æ•°å­—ï¼ˆ0-9ï¼‰");
          return;
        }

        if (
          dotsBefore < 0 ||
          dotsBefore > 6 ||
          dotsAfter < 0 ||
          dotsAfter > 6
        ) {
          alert("ç‚¹çš„æ•°é‡åº”åœ¨0-6ä¹‹é—´");
          return;
        }

        if (dotsBefore > 0 && dotsAfter > 0) {
          alert("ç‚¹åªèƒ½åœ¨æ•°å­—çš„ä¸€ä¾§ï¼Œä¸èƒ½åŒæ—¶åœ¨å‰åä¸¤ä¾§");
          return;
        }

        if (dotsBefore === 0 && dotsAfter === 0) {
          alert("è¯·è‡³å°‘è¾“å…¥ä¸€ä¸ªç‚¹çš„æ•°é‡");
          return;
        }

        // è®¡ç®—å¹´ä»½ï¼ˆå‡è®¾å½“å‰æ˜¯2020å¹´ä»£ï¼‰
        const currentYear = new Date().getFullYear();
        const currentDecade = Math.floor(currentYear / 10) * 10;
        const possibleYears = [
          currentDecade + yearDigit,
          currentDecade + yearDigit - 10,
          currentDecade + yearDigit + 10,
        ];

        // é€‰æ‹©æœ€åˆç†çš„å¹´ä»½ï¼ˆæœ€æ¥è¿‘å½“å‰å¹´ä»½ä½†ä¸è¶…è¿‡å½“å‰å¹´ä»½å¤ªå¤šï¼‰
        let calculatedYear =
          possibleYears.find((year) => year <= currentYear + 1) ||
          possibleYears[0];

        // è®¡ç®—æœˆä»½
        let month;
        let monthCalculation;

        if (dotsBefore > 0) {
          month = 7 - dotsBefore;
          monthCalculation = `7 - ${dotsBefore} = ${month}`;
        } else {
          month = 13 - dotsAfter;
          monthCalculation = `13 - ${dotsAfter} = ${month}`;
        }

        // éªŒè¯æœˆä»½
        if (month < 1 || month > 12) {
          alert("è®¡ç®—å‡ºçš„æœˆä»½æ— æ•ˆï¼Œè¯·æ£€æŸ¥ç‚¹çš„æ•°é‡");
          return;
        }

        // æ˜¾ç¤ºç»“æœ
        const monthNames = [
          "",
          "ä¸€æœˆ",
          "äºŒæœˆ",
          "ä¸‰æœˆ",
          "å››æœˆ",
          "äº”æœˆ",
          "å…­æœˆ",
          "ä¸ƒæœˆ",
          "å…«æœˆ",
          "ä¹æœˆ",
          "åæœˆ",
          "åä¸€æœˆ",
          "åäºŒæœˆ",
        ];

        const dotPattern =
          dotsBefore > 0
            ? "â€¢".repeat(dotsBefore) + yearDigit
            : yearDigit + "â€¢".repeat(dotsAfter);

        const resultContent = `
                <div style="font-size: 1.4em; margin-bottom: 20px;">
                    <strong>${calculatedYear}å¹´${month}æœˆ</strong>
                </div>
                <div style="margin-bottom: 15px;">
                    æ ‡è®°æ¨¡å¼ï¼š<strong>${dotPattern}</strong>
                </div>
                <div style="margin-bottom: 10px;">
                    å¹´ä»½ï¼š20${yearDigit}Xå¹´ â†’ <strong>${calculatedYear}å¹´</strong>
                </div>
                <div style="margin-bottom: 10px;">
                    æœˆä»½è®¡ç®—ï¼š${monthCalculation} â†’ <strong>${
          monthNames[month]
        }</strong>
                </div>
                <div style="font-size: 0.9em; opacity: 0.9; margin-top: 15px;">
                    ${
                      dotsBefore > 0
                        ? "ç‚¹åœ¨æ•°å­—å·¦è¾¹ï¼ˆä¸ŠåŠå¹´ï¼‰ï¼š7 - ç‚¹æ•°"
                        : "ç‚¹åœ¨æ•°å­—å³è¾¹ï¼ˆä¸‹åŠå¹´ï¼‰ï¼š13 - ç‚¹æ•°"
                    }
                </div>
            `;

        document.getElementById("resultContent").innerHTML = resultContent;
        document.getElementById("resultSection").classList.add("show");

        // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
        document.getElementById("resultSection").scrollIntoView({
          behavior: "smooth",
          block: "nearest",
        });
      }

      // æ·»åŠ å›è½¦é”®æ”¯æŒ
      document.addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
          calculateDate();
        }
      });

      // è¾“å…¥éªŒè¯
      document
        .getElementById("yearDigit")
        .addEventListener("input", function (e) {
          if (e.target.value > 9) e.target.value = 9;
          if (e.target.value < 0) e.target.value = 0;
        });

      document
        .getElementById("dotsBefore")
        .addEventListener("input", function (e) {
          if (e.target.value > 6) e.target.value = 6;
          if (e.target.value < 0) e.target.value = 0;
          if (parseInt(e.target.value) > 0) {
            document.getElementById("dotsAfter").value = 0;
          }
        });

      document
        .getElementById("dotsAfter")
        .addEventListener("input", function (e) {
          if (e.target.value > 6) e.target.value = 6;
          if (e.target.value < 0) e.target.value = 0;
          if (parseInt(e.target.value) > 0) {
            document.getElementById("dotsBefore").value = 0;
          }
        });
    </script>
  </body>
</html>
