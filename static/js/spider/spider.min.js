VerletJS.prototype.spider=function(a){var i var b=0.99 var c=0.99 var d=0.99 var e=0.99 var f=1 var g=0.4 var h=0.9 var j=1 var k=1 var l=new this.Composite()l.legs=[]l.thorax=new Particle(a)l.head=new Particle(a.add(new Vec2(0,-5)))l.abdomen=new Particle(a.add(new Vec2(0,10)))l.particles.push(l.thorax)l.particles.push(l.head)l.particles.push(l.abdomen)l.constraints.push(new DistanceConstraint(l.head,l.thorax,j))l.constraints.push(new DistanceConstraint(l.abdomen,l.thorax,j))l.constraints.push(new AngleConstraint(l.abdomen,l.thorax,l.head,0.4))for(i=0;i<4;++i){l.particles.push(new Particle(l.particles[0].pos.add(new Vec2(3,(i-1.5)*3))))l.particles.push(new Particle(l.particles[0].pos.add(new Vec2(-3,(i-1.5)*3))))var m=l.particles.length l.constraints.push(new DistanceConstraint(l.particles[m-2],l.thorax,b))l.constraints.push(new DistanceConstraint(l.particles[m-1],l.thorax,b))var n=1 if(i==1||i==2)n=0.7 else if(i==3)n=0.9 l.particles.push(new Particle(l.particles[m-2].pos.add(new Vec2(20,(i-1.5)*30).normal().mutableScale(20*n)),),)l.particles.push(new Particle(l.particles[m-1].pos.add(new Vec2(-20,(i-1.5)*30).normal().mutableScale(20*n)),),)m=l.particles.length l.constraints.push(new DistanceConstraint(l.particles[m-4],l.particles[m-2],c),)l.constraints.push(new DistanceConstraint(l.particles[m-3],l.particles[m-1],c),)l.particles.push(new Particle(l.particles[m-2].pos.add(new Vec2(20,(i-1.5)*50).normal().mutableScale(20*n)),),)l.particles.push(new Particle(l.particles[m-1].pos.add(new Vec2(-20,(i-1.5)*50).normal().mutableScale(20*n)),),)m=l.particles.length l.constraints.push(new DistanceConstraint(l.particles[m-4],l.particles[m-2],d),)l.constraints.push(new DistanceConstraint(l.particles[m-3],l.particles[m-1],d),)var o=new Particle(l.particles[m-2].pos.add(new Vec2(20,(i-1.5)*100).normal().mutableScale(12*n)),)var p=new Particle(l.particles[m-1].pos.add(new Vec2(-20,(i-1.5)*100).normal().mutableScale(12*n)),)l.particles.push(o)l.particles.push(p)l.legs.push(o)l.legs.push(p)m=l.particles.length l.constraints.push(new DistanceConstraint(l.particles[m-4],l.particles[m-2],e),)l.constraints.push(new DistanceConstraint(l.particles[m-3],l.particles[m-1],e),)l.constraints.push(new AngleConstraint(l.particles[m-6],l.particles[m-4],l.particles[m-2],h,),)l.constraints.push(new AngleConstraint(l.particles[m-6+1],l.particles[m-4+1],l.particles[m-2+1],h,),)l.constraints.push(new AngleConstraint(l.particles[m-8],l.particles[m-6],l.particles[m-4],g,),)l.constraints.push(new AngleConstraint(l.particles[m-8+1],l.particles[m-6+1],l.particles[m-4+1],g,),)l.constraints.push(new AngleConstraint(l.particles[0],l.particles[m-8],l.particles[m-6],f,),)l.constraints.push(new AngleConstraint(l.particles[0],l.particles[m-8+1],l.particles[m-6+1],f,),)l.constraints.push(new AngleConstraint(l.particles[1],l.particles[0],l.particles[m-8],k,),)l.constraints.push(new AngleConstraint(l.particles[1],l.particles[0],l.particles[m-8+1],k,),)}this.composites.push(l)return l}VerletJS.prototype.spiderweb=function(a,b,d,e){var f=0.6 var g=0.3 var h=(2*Math.PI)/d var n=d*e var j=b/n var i,c var k=new this.Composite()for(i=0;i<n;++i){var l=i*h+Math.cos(i*0.4)*0.05+Math.cos(i*0.05)*0.2 var m=b-j*i+Math.cos(i*0.1)*20 var o=Math.cos(l*2.1)*(b/e)*0.2 k.particles.push(new Particle(new Vec2(a.x+Math.cos(l)*m,a.y+Math.sin(l)*m+o),),)}for(i=0;i<d;i+=4)k.pin(i)for(i=0;i<n-1;++i){k.constraints.push(new DistanceConstraint(k.particles[i],k.particles[i+1],f))var p=i+d if(p<n-1)k.constraints.push(new DistanceConstraint(k.particles[i],k.particles[p],f))else k.constraints.push(new DistanceConstraint(k.particles[i],k.particles[n-1],f))}k.constraints.push(new DistanceConstraint(k.particles[0],k.particles[d-1],f),)for(c in k.constraints)k.constraints[c].distance*=g this.composites.push(k)return k}//@ http://jsfromhell.com/array/shuffle [v1.0]
